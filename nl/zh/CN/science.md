---

copyright:
  years: 2015, 2019
lastupdated: "2019-03-07"

subcollection: tone-analyzer

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:important: .important}
{:note: .note}
{:deprecated: .deprecated}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# 服务背后的科学
{: #ssbts}

{{site.data.keyword.toneanalyzerfull}} 服务以心理语言学的理论为基础，该学科的研究领域主要探索语言行为与心理学理论之间的关系。该服务使用语言分析，以及书面文字的语言特点与情绪语气和语言语气之间的相关性，来为每个语气维度制定分数。
{: shortdesc}

心理语言学的研究人员进行了大量工作，了解人们日常生活中所使用的词语是否反映了他们的身份、感受和想法。经过数十年的研究，目前在心理学、市场营销和其他领域已经公认，语言所反映的远不止人们所要表达的意思。人们使用特定类型词语的频率可以揭示他们的个性、思考方式、社会联系和情绪状态等。

例如，人们在日常交流中表现出各种语气：欢乐或悲伤、开放或保守、善于分析或不拘小节（[Gou 等人，2014 年](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-gou)和 [Jian 等人，2014 年](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-jian)）。这些语气会影响一个人在线身份的感知以及他们在不同情景中交流的有效性。

此外，在商业电子邮件通信中，人们感知到负面情绪的程度可能远高于正面情绪 ([Byron, 2008](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-byron))。而在社交媒体中，人们呈现了不同的在线身份，这会影响其他人对他们的印象（[DiMicco 和 Millen，2007 年](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-dimicco)）。

很多人自然地阅读一条消息并判断发件人所传达的语气。但是，计算机能够准确地自动检测出消息所表露的语气吗？此问题是人工智能和认知科学领域的研究人员在寻求答案时所面临的众多具有挑战性的问题之一。最初利用 {{site.data.keyword.personalityinsightsshort}} 服务，现在利用 {{site.data.keyword.toneanalyzershort}} 服务，IBM 正在着手解决此问题。

## 相关研究概述
{: #sorr}

研究表明词语的选择与个性、情绪、态度、内在需求、价值观和思想过程之间存在具有统计意义的重大关联。几位研究人员发现，人们在撰写博客、散文和推文时，在使用特定类别的词语的频率方面存在差异。研究者发现以下通信媒体可帮助预测个性的不同方面：

-   [Fast and Funder (2008)](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-fast)
-   [Gill 等人 (2009)](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-gill)
-   [Golbeck 等人 (2011)](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-golbeck)
-   [Hirsh and Peterson (2009)](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-hirsh)
-   [Yarkoni (2010)](/docs/services/tone-analyzer?topic=tone-analyzer-references#bib-yarkoni)

这些以往作品中大部分的作法是从书面文字用法中寻找在心理学方面有意义的词类。IBM 利用此研究作为致力于 {{site.data.keyword.toneanalyzershort}} 服务的基础。根据心理语言学研究的科学发现，IBM 不断努力通过人们所书写的文字，推断他们的个性特征、思考方式和写作风格、情绪，以及内在需求和价值观。IBM 使用其机器学习模型，通过分析一个人在书写方面的各种特点，来评估上述特征。

## 通用模型
{: #analysis}

通用端点通过对书面内容进行分析，获得一组适用于广泛用途的语气。{{site.data.keyword.toneanalyzershort}} 服务会计算包含以下语气的记分卡：

-   **情绪语气**衍生自 IBM 的情绪分析产品，它是一个整体框架，用于通过文本推断情绪。为了从文本中衍生情绪分数，IBM 使用基于堆栈泛化的整体框架；堆栈泛化使用高级模型来组合较低级模型，以实现更高的预测准确性。诸如 n 元（一元、二元和三元）、标点、表情符号、脏话、问候（如“您好”、“嗨”和“谢谢”）等特点，以及情感极性会被送入到机器学习算法中，以对情绪类别进行分类。
-   根据所了解的特点，通过语言分析来计算**语言语气**。

### 测量服务质量
{: #smqs}

IBM 根据上一节中的语气维度，对 {{site.data.keyword.toneanalyzershort}} 服务的质量进行了测量：

-   *情绪语气*类别根据标准情绪数据集（如 ISEAR 和 SEMEVAL）进行测量。结果显示，整体模型的平均性能（对于两个数据集，宏平均 F1 得分约为 41% 和 68%）在统计上好于最新模型所报告的最佳准确性（宏平均 F1 得分约为 37% 和 63%）。
-   通过深入研究从辩论论坛、演讲和社交媒体等来源收集的超过 20 万个句子，对*语言语气*进行了评估。IBM 随机选择了 1330 个句子用于分析语气，对于每个确信语气和不确定语气都选择了 1000 个句子。然后，IBM 将句子提交给 {{site.data.keyword.toneanalyzershort}} 服务，并要求人员对它们进行分析。

    对于人员分析，IBM 使用了称为 [CrowdFlows ![外部链接图标](../../icons/launch-glyph.svg "外部链接图标")](https://www.crowdflower.com/){: new_window} 的众包平台，以通过不同的标签对选定的句子进行注释。只有核准率超过 85% 的评分者才能参与注释任务。五个注释者对每个句子标记标签，而 IBM 使用五个注释的结果中最普遍的结果来确定最终标签。
    -   对于*善于分析的语气*，1330 个句子中有 915 个标记为善于分析，411 个标记为不善于分析，4 个标记为不可理解。通过将预测标签与这些真实标签进行比较，IBM 发现分析语气检测的 F1 得分为 0.7518。
    -   对于*不确定语气*，1000 个句子中有 292 个标记为不确定，706 个标记为非不确定，2 个标记为不可理解。通过将预测标签与这些真实标签进行比较，IBM 发现不确定语气检测的 F1 得分为 0.6369。
    -   对于*确信语气*，1000 个句子中有 623 个标记为确信，374 个标记为不确信，3 个标记为不可理解。通过将预测标签与这些真实标签进行比较，IBM 发现确信语气检测的 F1 得分为 0.7288。

总体而言，预测标签与参考标准标签之间的差异在统计上并不显著。此结果表明服务表现良好。

## 客户参与模型
{: #scem}

客户参与端点可识别来自客户服务领域的语气。为了选择使用客户参与模型评估的语气，IBM 首先进行了一项研究，以确定在该领域中哪些语气维度被认为是重要的：

1.  IBM 从市场营销中使用的维度、用于描述写作风格的维度以及心理学上的情绪和个性量表中选择了 53 个语气的集合。
1.  IBM 要求 CrowdFlower 的工作人员就这 53 个语气属性在描述 1000 个客户服务对话中的特定话语方面进行评价。为了简化众包情景中的评价任务，IBM 将这 53 个语气分成了 4 个子集。人类注释者只需对这些语气的子集进行评级。IBM 随后对这些结果进行汇总，以确定所有语气的评级。
1.  IBM 对 53 x 53 的相关性矩阵执行了因子分析，并找到至少七个重要因素（维度）。IBM 确定因子的名称，以表示每个维度所反映的最重要概念。

这些步骤可识别客户服务领域的七个重要语气维度：沮丧、满意、兴奋、有礼、粗鲁、悲伤和同情。

### 数据收集
{: #sdc}

IBM 使用 Twitter 客户支持论坛作为会话数据的来源，用于分析客户服务领域的语气。许多公司使用 Twitter 作为向客户提供支持的渠道。他们雇佣和培训代理来监视提及公司的推文，指导帮助请求并提供快速支持以满足客户需求。

为了尽可能多地收集对话，IBM 选择了 62 个在 Twitter 上提供专门客户服务帐户的品牌。IBM 所选择的这些品牌涵盖各行各业、各个地理位置和各种组织规模。总体而言，IBM 在 2016 年 6 月 1 日到 8 月 1 日之间收集了 260 万个用户请求。

### 数据注释
{: #sda}

IBM 对所收集的数据集进行了筛选，以仅保留那些至少收到一个答复且仅涉及一个客户和一个代理的对话。IBM 还从数据集中除去所有非英文对话和包含带有图像的请求或回答的对话。为了保护用户和公司的隐私，IBM 将每个对话中的所有 *@mentions* 替换为 *@customer*、*@[industry]_company*（例如 *@ecommce_company* 或 *@telecomation_company*）、*@competitor_company* 或 *@other_users*。

这个选择过程确定了要由 CrowdFlowers 工作人员进行注释的约 96,000 个对话话语。为了更好地理解注释情景，IBM 要求工作人员在对话级别上进行注释，从而标注对话中涉及的所有话语。鉴于某些建议语气的主观性质，可能会有不一致的看法。因此 IBM 要求注释者使用四分制 Likert 量表来表明他们感到话语表达语气的强烈程度，范围从“非常强烈”到“完全不强烈”。Likert 量表比简单的二分制“是/否”量表更好，因为它对不同的感知具有更高的容忍度，可生成更稀疏的标签。

每个对话有五个不同的注释者进行标记。IBM 仅使用在之前注释任务中绩效可接受的美国注释者。IBM 还要求注释者正确回答五个培训问题，然后他们才能继续执行实际的注释任务。培训问题确保了注释者了解在客户服务情景中每种语气的意义。IBM 还在实际任务中嵌入验证问题，以进一步验证注释者标签的质量。

IBM 使用五个注释者的平均得分作为每个话语的最终标签。然后，IBM 使用分数 1 作为将标签转换为二进制值的阈值。IBM 根据标签分布的观察值和具有不同阈值的模型的性能，选择 1 作为阈值。最后的结果产生了以下话语分布：9536 个沮丧、10,806 个满意、6107 个兴奋、63,853 个有礼、1688 个粗鲁、24,954 个悲伤，以及 10,475 个同情。

### 学习语气模型
{: #sltm}

基于这些客户参与对话，IBM 对基于支持向量机 (SVM) 的机器学习模型进行了训练，用于预测新客户服务话语的语气。对于机器学习模型，IBM 利用了多个类别的特点：

-   N 元特点
-   各种字典的词汇特点
-   对话中存在的第二人称引用
-   一些特定于对话的特点（如表示感谢或道歉）
-   一些更高级的特点（如存在连续的问号或感叹号）

IBM 发现大约有 30% 的样本具有多个关联的语气。因此，IBM 选择解决多标签分类任务，而非多类分类任务。对于每种语气，IBM 通过使用“一对多 (OVR)”范式来独立训练模型。该范式使用每个类的话语作为正面样本，使用所有其他话语作为负面样本。IBM 确定了以至少 0.5 概率预测的语气作为最终的语气。对于多个语气，训练数据非常不平衡；因此，IBM 在训练期间为每个语气确定了成本函数的最佳权重值。

IBM 使用了精确率、召回率和 F 得分来评估其分类模型的准确率。与基准数据集相比，该模型的准确率极高。
